(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yj9t:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",(function(){return B}));var r=n("ofXK"),i=n("tyNb"),o=n("fXoL"),a=n("UbJi"),s=n("bTqV"),c=function(){return function(e,t){this.name=e,this.email=t,this.address=""}}(),u=n("U9fw"),l=n("JZFu"),f=n("N/25"),p=function(){function e(e,t,n,r){this.angularFireAuth=e,this.authService=t,this.router=n,this.uiElementsService=r}return e.prototype.onClick=function(){return e=this,void 0,n=function(){var e,t,n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.angularFireAuth.signInWithPopup(new l.a.auth.GoogleAuthProvider)];case 1:return e=r.sent(),this.uiElementsService.addSpinner(),t=new c(e.user.displayName,e.user.email),e.additionalUserInfo.isNewUser?[4,this.authService.addNewUser(e.user.uid,t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return this.uiElementsService.removeSpinner(),this.uiElementsService.addSnackBar("Welcome "+t.name),this.router.navigate(["/profile"]),[3,5];case 4:return n=r.sent(),this.uiElementsService.addSnackBar(n),[3,5];case 5:return[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.\u0275fac=function(t){return new(t||e)(o.Nb(a.a),o.Nb(f.a),o.Nb(i.c),o.Nb(u.a))},e.\u0275dir=o.Ib({type:e,selectors:[["","appGoogleSignIn",""]],hostBindings:function(e,t){1&e&&o.bc("click",(function(){return t.onClick()}))}}),e}(),d=n("3Pt+"),b=n("WAaD"),m=n("I/3d"),h=n("Wp6s"),g=n("kmnG"),v=n("qFsG");function y(e,t){if(1&e){var n=o.Ub();o.Tb(0,"div"),o.Tb(1,"h3"),o.Cc(2,"Login"),o.Sb(),o.Tb(3,"button",10),o.bc("click",(function(){return o.rc(n),o.ec().changeType("signup")})),o.Cc(4," Create an account "),o.Sb(),o.Sb()}}function w(e,t){if(1&e){var n=o.Ub();o.Tb(0,"div"),o.Tb(1,"h3"),o.Cc(2,"Signup"),o.Sb(),o.Tb(3,"button",10),o.bc("click",(function(){return o.rc(n),o.ec().changeType("login")})),o.Cc(4," Already have an account? "),o.Sb(),o.Sb()}}function S(e,t){if(1&e){var n=o.Ub();o.Tb(0,"div"),o.Tb(1,"h3"),o.Cc(2,"Reset Password"),o.Sb(),o.Tb(3,"button",10),o.bc("click",(function(){return o.rc(n),o.ec().changeType("login")})),o.Cc(4," Back "),o.Sb(),o.Sb()}}function k(e,t){1&e&&(o.Tb(0,"mat-error"),o.Cc(1," Enter a valid email address "),o.Sb())}function C(e,t){1&e&&(o.Tb(0,"mat-error"),o.Cc(1," Enter a valid email address "),o.Sb())}function P(e,t){1&e&&(o.Tb(0,"mat-error"),o.Cc(1," Password must be atleast 6 characters long "),o.Sb())}function T(e,t){if(1&e&&(o.Tb(0,"mat-form-field",3),o.Ob(1,"input",11),o.Ac(2,P,2,0,"mat-error",1),o.Sb()),2&e){var n=o.ec();o.kc("color",(null==n.password?null:n.password.valid)&&"primary"),o.Bb(2),o.kc("ngIf",(null==n.password?null:n.password.invalid)&&(null==n.password?null:n.password.dirty))}}function O(e,t){1&e&&(o.Tb(0,"mat-error"),o.Cc(1," Password does not match "),o.Sb())}function x(e,t){if(1&e&&(o.Tb(0,"mat-form-field",3),o.Ob(1,"input",12),o.Ac(2,O,2,0,"mat-error",1),o.Sb()),2&e){var n=o.ec();o.kc("color",(null==n.password?null:n.password.valid)&&"primary"),o.Bb(2),o.kc("ngIf",(null==n.passwordConfirm?null:n.passwordConfirm.dirty)&&!n.passwordDoesMatch)}}var I=function(){function e(e,t,n,r,i,o){this.fb=e,this.uiElementsService=t,this.databaseService=n,this.angularFireAuth=r,this.router=i,this.angularFirestore=o,this.form=new d.e({}),this.type="signup",this.serverMessage="",this.loading=!1}return e.prototype.ngOnInit=function(){this.form=this.fb.group({name:["",[d.r.required]],email:["",[d.r.required,d.r.email]],password:["",[d.r.required,d.r.minLength(6)]],confirmPassword:["",[]]})},e.prototype.changeType=function(e){this.type=e},Object.defineProperty(e.prototype,"isSignup",{get:function(){return"signup"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLogin",{get:function(){return"login"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPasswordReset",{get:function(){return"reset"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.form.get("email")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.form.get("name")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.form.get("password")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passwordConfirm",{get:function(){return this.form.get("confirmPassword")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passwordDoesMatch",{get:function(){var e,t;return"signup"!==this.type||(null===(e=this.password)||void 0===e?void 0:e.value)==(null===(t=this.passwordConfirm)||void 0===t?void 0:t.value)},enumerable:!1,configurable:!0}),e.prototype.onSubmit=function(){var e,t,n,r,i,o,a;return i=this,void 0,a=function(){var i,o,a,s,c;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(u){switch(u.label){case 0:this.loading=!0,this.uiElementsService.addSpinner(),i=null===(e=this.email)||void 0===e?void 0:e.value,o=null===(t=this.name)||void 0===t?void 0:t.value,a=null===(n=this.password)||void 0===n?void 0:n.value,u.label=1;case 1:return u.trys.push([1,9,,10]),"signup"!==this.type?[3,4]:[4,this.angularFireAuth.createUserWithEmailAndPassword(i,a)];case 2:return s=u.sent(),console.log(s),[4,this.angularFirestore.collection("users").doc(null===(r=s.user)||void 0===r?void 0:r.uid).set({email:i,address:"",name:o})];case 3:u.sent(),this.uiElementsService.addSnackBar("Welcome "+o),this.router.navigate(["/profile"]),u.label=4;case 4:return"login"!==this.type?[3,6]:[4,this.angularFireAuth.signInWithEmailAndPassword(i,a)];case 5:u.sent(),this.uiElementsService.addSnackBar("Welcome"),this.router.navigate(["/profile"]),u.label=6;case 6:return"reset"!==this.type?[3,8]:[4,this.angularFireAuth.sendPasswordResetEmail(i)];case 7:u.sent(),this.uiElementsService.addSnackBar("Check your Emails for the link"),u.label=8;case 8:return[3,10];case 9:return c=u.sent(),this.serverMessage=c,[3,10];case 10:return this.loading=!1,[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{s(a.next(e))}catch(n){t(n)}}function r(e){try{s(a.throw(e))}catch(n){t(n)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(n,r)}s((a=a.apply(i,[])).next())}))},e.\u0275fac=function(t){return new(t||e)(o.Nb(d.c),o.Nb(u.a),o.Nb(b.a),o.Nb(a.a),o.Nb(i.c),o.Nb(m.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-email-sign-in"]],decls:19,vars:12,consts:[[1,""],[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"color"],["matInput","","formControlName","name","type","text","autocomplete","off","placeholder","Name"],["matInput","","formControlName","email","type","email","autocomplete","off","placeholder","Email"],[3,"color",4,"ngIf"],[1,"server-error"],["mat-raised-button","","color","accent","type","submit",2,"margin-bottom","20px",3,"disabled"],[1,"text-primary",2,"margin-top","20px","padding-top","20px",3,"click"],["mat-stroked-button","",3,"click"],["matInput","","formControlName","password","type","password","autocomplete","off","placeholder","Password"],["matInput","","formControlName","confirmPassword","type","password","autocomplete","off","placeholder","Confirm Password"]],template:function(e,t){1&e&&(o.Tb(0,"mat-card",0),o.Ac(1,y,5,0,"div",1),o.Ac(2,w,5,0,"div",1),o.Ac(3,S,5,0,"div",1),o.Tb(4,"form",2),o.bc("ngSubmit",(function(){return t.onSubmit()})),o.Tb(5,"mat-form-field",3),o.Ob(6,"input",4),o.Ac(7,k,2,0,"mat-error",1),o.Sb(),o.Tb(8,"mat-form-field",3),o.Ob(9,"input",5),o.Ac(10,C,2,0,"mat-error",1),o.Sb(),o.Ac(11,T,3,2,"mat-form-field",6),o.Ac(12,x,3,2,"mat-form-field",6),o.Tb(13,"mat-error",7),o.Cc(14),o.Sb(),o.Tb(15,"button",8),o.Cc(16," Submit "),o.Sb(),o.Sb(),o.Tb(17,"a",9),o.bc("click",(function(){return t.changeType("reset")})),o.Cc(18," Forgot Password"),o.Sb(),o.Sb()),2&e&&(o.Bb(1),o.kc("ngIf",t.isLogin),o.Bb(1),o.kc("ngIf",t.isSignup),o.Bb(1),o.kc("ngIf",t.isPasswordReset),o.Bb(1),o.kc("formGroup",t.form),o.Bb(1),o.kc("color",(null==t.name?null:t.name.valid)&&"primary"),o.Bb(2),o.kc("ngIf",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.dirty)),o.Bb(1),o.kc("color",(null==t.email?null:t.email.valid)&&"primary"),o.Bb(2),o.kc("ngIf",(null==t.email?null:t.email.invalid)&&(null==t.email?null:t.email.dirty)),o.Bb(1),o.kc("ngIf",!t.isPasswordReset),o.Bb(1),o.kc("ngIf",!t.isPasswordReset&&!t.isLogin),o.Bb(2),o.Ec(" ",t.serverMessage,""),o.Bb(1),o.kc("disabled",t.form.invalid||!t.passwordDoesMatch||t.loading))},directives:[h.a,r.l,d.s,d.l,d.f,g.c,v.a,d.b,d.k,d.d,g.b,s.a],styles:[".forgot[_ngcontent-%COMP%]{margin-top:30px}mat-card[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:0 auto}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.server-error[_ngcontent-%COMP%]{margin:8px 0}input[_ngcontent-%COMP%]{height:2em}input[_ngcontent-%COMP%]   div.mat-form-field-infix[_ngcontent-%COMP%]{padding:3em 0}input[_ngcontent-%COMP%]   div.mat-form-field-infix[_ngcontent-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{vertical-align:top}div.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.15em}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e}(),A=[{path:"",component:function(){function e(e){this.angularFireAuth=e}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(o.Nb(a.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-auth"]],decls:9,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],["mat-raised-button","","appGoogleSignIn",""],["src","/assets/google-logo.svg"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div"),o.Tb(3,"button",2),o.Ob(4,"img",3),o.Cc(5," Login with google "),o.Sb(),o.Tb(6,"h5"),o.Cc(7,"OR"),o.Sb(),o.Ob(8,"app-email-sign-in"),o.Sb(),o.Sb(),o.Sb())},directives:[s.a,p,I],styles:["button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.25em}[_nghost-%COMP%]{text-align:center}"]}),e}()}],M=function(){function e(){}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(A)],i.f]}),e}(),N=n("PCNd"),B=function(){function e(){}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[r.c,M,N.a]]}),e}()}}]);