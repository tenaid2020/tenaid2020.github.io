{"version":3,"sources":["./src/app/auth/email-sign-in/email-sign-in.component.html","./src/app/auth/directives/google-sign-in.directive.ts","./src/app/auth/auth/auth.component.scss","./src/app/auth/auth-routing.module.ts","./src/app/auth/auth/auth.component.html","./src/app/auth/email-sign-in/email-sign-in.component.scss","./src/app/shared/models/user.ts","./src/app/auth/auth/auth.component.ts","./src/app/auth/auth.module.ts","./src/app/auth/email-sign-in/email-sign-in.component.ts"],"names":[],"mappings":"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","file":"auth-auth-module.js","sourcesContent":["export default \"<mat-card class=\\\"\\\">\\r\\n    <div *ngIf=\\\"isLogin\\\">\\r\\n      <h3>Login</h3>\\r\\n      <button\\r\\n      (click)=\\\"changeType('signup')\\\"\\r\\n      mat-stroked-button>\\r\\n        Create an account\\r\\n      </button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"isSignup\\\">\\r\\n      <h3>Signup</h3>\\r\\n      <button\\r\\n      (click)=\\\"changeType('login')\\\"\\r\\n      mat-stroked-button>\\r\\n        Already have an account?\\r\\n      </button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"isPasswordReset\\\">\\r\\n      <h3>Reset Password</h3>\\r\\n      <button\\r\\n      mat-stroked-button\\r\\n      (click)=\\\"changeType('login')\\\"\\r\\n      >\\r\\n        Back\\r\\n      </button>\\r\\n    </div>\\r\\n      <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n        <mat-form-field \\r\\n        *ngIf=\\\"isSignup\\\"\\r\\n        [color]=\\\"name?.valid && 'primary'\\\">\\r\\n          <input matInput\\r\\n          formControlName=\\\"name\\\"\\r\\n          type=\\\"text\\\"\\r\\n          autocomplete=\\\"off\\\"\\r\\n          placeholder=\\\"Name\\\"\\r\\n          >\\r\\n          <mat-error *ngIf=\\\"email?.invalid && email?.dirty\\\">\\r\\n            Enter a valid email address\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field [color]=\\\"email?.valid && 'primary'\\\">\\r\\n          <input matInput\\r\\n          formControlName=\\\"email\\\"\\r\\n          type=\\\"email\\\"\\r\\n          autocomplete=\\\"off\\\"\\r\\n          placeholder=\\\"Email\\\"\\r\\n          >\\r\\n          <mat-error *ngIf=\\\"email?.invalid && email?.dirty\\\">\\r\\n            Enter a valid email address\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n  \\r\\n  \\r\\n        <mat-form-field\\r\\n        *ngIf=\\\"!isPasswordReset\\\"\\r\\n        [color]=\\\"password?.valid && 'primary'\\\">\\r\\n          <input matInput\\r\\n          formControlName=\\\"password\\\"\\r\\n          type=\\\"password\\\"\\r\\n          autocomplete=\\\"off\\\"\\r\\n          placeholder=\\\"Password\\\"\\r\\n          >\\r\\n          <mat-error *ngIf=\\\"password?.invalid && password?.dirty\\\">\\r\\n            Password must be atleast 6 characters long\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n  \\r\\n  \\r\\n        <mat-form-field\\r\\n        \\r\\n        *ngIf=\\\"!isPasswordReset && !isLogin\\\"\\r\\n        [color]=\\\"password?.valid && 'primary'\\\">\\r\\n        \\r\\n          <input matInput\\r\\n          formControlName=\\\"confirmPassword\\\"\\r\\n          type=\\\"password\\\"\\r\\n          autocomplete=\\\"off\\\"\\r\\n          placeholder=\\\"Confirm Password\\\"\\r\\n          >\\r\\n          <mat-error *ngIf=\\\"passwordConfirm?.dirty && !passwordDoesMatch\\\">\\r\\n            Password does not match\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-error\\r\\n        class=\\\"server-error\\\"> {{serverMessage}}</mat-error>\\r\\n        <button\\r\\n        style=\\\"margin-bottom: 20px;\\\"\\r\\n        mat-raised-button\\r\\n        color=\\\"accent\\\"\\r\\n        type=\\\"submit\\\"\\r\\n  \\r\\n        [disabled]=\\\"form.invalid || !passwordDoesMatch || loading || !nameNotNeeded\\\"\\r\\n        >\\r\\n          Submit\\r\\n        </button>\\r\\n      </form>\\r\\n      <a\\r\\n      class=\\\"text-primary\\\"\\r\\n      style=\\\"margin-top: 20px; padding-top: 20px;\\\"\\r\\n      (click)=\\\"changeType('reset')\\\"> Forgot Password</a>\\r\\n  \\r\\n  </mat-card>\\r\\n  \";","import { Directive, HostListener } from '@angular/core';\r\nimport { AngularFireAuth} from '@angular/fire/auth';\r\nimport { Router } from '@angular/router';\r\nimport { User } from 'app/shared/models/user';\r\nimport { UIElementsService } from 'app/shared/services/uielements.service';\r\nimport * as firebase from 'firebase';\r\nimport { AuthService } from '../services/auth.service';\r\n@Directive({\r\n  selector: '[appGoogleSignIn]'\r\n})\r\nexport class GoogleSignInDirective {\r\n\r\n  constructor(private angularFireAuth: AngularFireAuth,\r\n              private authService: AuthService,\r\n              private router: Router,\r\n              private uiElementsService: UIElementsService) { }\r\n  @HostListener('click')\r\nasync  onClick(){\r\n  \r\n  try {\r\n    \r\n    const authedUser = await this.angularFireAuth.signInWithPopup(new firebase.default.auth.GoogleAuthProvider);\r\n    this.uiElementsService.addSpinner();\r\n    const newUser = new User(authedUser.user.displayName, authedUser.user.email)\r\n    \r\n    if(authedUser.additionalUserInfo.isNewUser){\r\n      await this.authService.addNewUser(authedUser.user.uid, newUser)  \r\n    }\r\n\r\n    this.uiElementsService.removeSpinner();\r\n   this.uiElementsService.addSnackBar('Welcome ' + newUser.name);\r\n    this.router.navigate(['/profile']);\r\n  } catch (error) {\r\n      this.uiElementsService.addSnackBar(error);\r\n  }\r\n    \r\n  }\r\n}\r\n\r\n","export default \"button img {\\n  width: 1.25em;\\n}\\n\\n:host {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9hdXRoL2F1dGguY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxhQUFBO0FBQU47O0FBS0U7RUFDRSxrQkFBQTtBQUZKIiwiZmlsZSI6InNyYy9hcHAvYXV0aC9hdXRoL2F1dGguY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b257XHJcbiAgICBpbWcge1xyXG4gICAgICB3aWR0aDogMS4yNWVtO1xyXG4gICAgfVxyXG4gIFxyXG4gIH1cclxuICBcclxuICA6aG9zdCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gICJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthComponent } from './auth/auth.component';\n\nconst routes: Routes = [\n  { path: '', component: AuthComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n","export default \"<div class=\\\"main-content\\\">\\n  <div class=\\\"container-fluid\\\">\\n    <div >\\n      <!-- <button mat-raised-button appGoogleSignIn>\\n        <img src=\\\"/assets/google-logo.svg\\\" > Login with google\\n      </button>\\n        <h5>OR</h5> -->\\n      <app-email-sign-in></app-email-sign-in>\\n    </div>\\n  </div>\\n  </div>\\n\";","export default \".forgot {\\n  margin-top: 30px;\\n}\\n\\nmat-card {\\n  min-width: 150px;\\n  max-width: 500px;\\n  width: 100%;\\n  margin: 0 auto;\\n}\\n\\nmat-form-field {\\n  width: 100%;\\n  margin-bottom: 16px;\\n}\\n\\n.server-error {\\n  margin: 8px 0;\\n}\\n\\ninput {\\n  height: 2em;\\n}\\n\\ninput div.mat-form-field-infix {\\n  padding: 3em 0;\\n}\\n\\ninput div.mat-form-field-infix input.mat-input-element {\\n  vertical-align: top;\\n}\\n\\ndiv.mat-form-field-wrapper {\\n  padding-bottom: 1.15em;\\n}\\n\\na:hover {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9lbWFpbC1zaWduLWluL2VtYWlsLXNpZ24taW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtBQUNKOztBQUNFO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0FBRUo7O0FBQ0U7RUFDRSxXQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDRTtFQUNFLGFBQUE7QUFFSjs7QUFDRTtFQUNFLFdBQUE7QUFFSjs7QUFESTtFQUNFLGNBQUE7QUFHTjs7QUFGTTtFQUNFLG1CQUFBO0FBSVI7O0FBQ0U7RUFDRSxzQkFBQTtBQUVKOztBQUNFO0VBQ0UsZUFBQTtBQUVKIiwiZmlsZSI6InNyYy9hcHAvYXV0aC9lbWFpbC1zaWduLWluL2VtYWlsLXNpZ24taW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9yZ290e1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICB9XHJcbiAgbWF0LWNhcmR7XHJcbiAgICBtaW4td2lkdGg6IDE1MHB4O1xyXG4gICAgbWF4LXdpZHRoOiA1MDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1mb3JtLWZpZWxke1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG4gIH1cclxuICBcclxuICAuc2VydmVyLWVycm9ye1xyXG4gICAgbWFyZ2luOiA4cHggMDtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXR7XHJcbiAgICBoZWlnaHQ6IDJlbTtcclxuICAgIGRpdi5tYXQtZm9ybS1maWVsZC1pbmZpeHtcclxuICAgICAgcGFkZGluZzogM2VtIDA7XHJcbiAgICAgIGlucHV0Lm1hdC1pbnB1dC1lbGVtZW50e1xyXG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgZGl2Lm1hdC1mb3JtLWZpZWxkLXdyYXBwZXJ7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMS4xNWVtO1xyXG4gIH1cclxuICBcclxuICBhOmhvdmVye1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICAiXX0= */\";","export interface User {\r\n    name?: string;\r\n    uid?: string;\r\n    address?: string;\r\n    email?: string;\r\n}\r\nexport class User{\r\n    name?: string;\r\n    uid?: string;\r\n    address?: string;\r\n    email?: string;\r\n    constructor(name: string, email: string){\r\n        this.name = name;\r\n        this.email = email;\r\n        this.address = '';\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor(public angularFireAuth: AngularFireAuth) { }\n\n  ngOnInit(): void {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { GoogleSignInDirective } from './directives/google-sign-in.directive';\nimport { AuthComponent } from './auth/auth.component';\nimport { SharedModule } from 'app/shared/shared.module';\nimport { EmailSignInComponent } from './email-sign-in/email-sign-in.component';\n\n\n@NgModule({\n  declarations: [GoogleSignInDirective, AuthComponent, EmailSignInComponent],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    SharedModule\n  ]\n})\nexport class AuthModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport {AngularFirestore} from '@angular/fire/firestore'\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators\r\n} from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { DatabaseService } from 'app/shared/services/database.service';\r\nimport { UIElementsService } from 'app/shared/services/uielements.service';\r\n@Component({\r\n  selector: 'app-email-sign-in',\r\n  templateUrl: './email-sign-in.component.html',\r\n  styleUrls: ['./email-sign-in.component.scss']\r\n})\r\nexport class EmailSignInComponent implements OnInit {\r\n  form: FormGroup = new FormGroup({});;\r\n  type: 'login' | 'signup' | 'reset' = 'signup';\r\n  serverMessage = '';\r\n  loading = false;\r\n  constructor( private fb: FormBuilder,\r\n    private uiElementsService: UIElementsService,\r\n    private databaseService: DatabaseService,\r\n    public angularFireAuth: AngularFireAuth,\r\n    private router: Router,\r\n    public angularFirestore: AngularFirestore) {\r\n\r\n\r\n    }\r\n\r\n  ngOnInit(): void {\r\n   this.form = this.fb.group({\r\n      name: ['', []],\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      confirmPassword: ['', []]\r\n    });\r\n  }\r\n  changeType(val: 'login' | 'signup' | 'reset'){\r\n    this.type = val;\r\n  }\r\n\r\n  get isSignup(){\r\n    return this.type === 'signup';\r\n  }\r\n  get isLogin(){\r\n    return this.type === 'login';\r\n  }\r\n  get isPasswordReset(){\r\n    return this.type === 'reset';\r\n  }\r\n\r\n  get email(){\r\n    return this.form.get('email');\r\n  }\r\n  get name(){\r\n    return this.form.get('name');\r\n  }\r\n\r\n  get password(){\r\n    return this.form.get('password');\r\n  }\r\n  get passwordConfirm(){\r\n    return this.form.get('confirmPassword');\r\n  }\r\n  get passwordDoesMatch(){\r\n    if(this.type !== 'signup')\r\n    {\r\n      return true;\r\n    } else{\r\n      return  this.password?.value == this.passwordConfirm?.value\r\n    }\r\n  }\r\n  get nameNotNeeded(){\r\n    if(this.type !== 'signup')\r\n    {\r\n      return true;\r\n    } else{\r\n      return  this.name.value != '';\r\n    }\r\n  }\r\n  async onSubmit(){\r\n    this.loading = true;\r\n    this.uiElementsService.addSpinner();\r\n    const email = this.email?.value;\r\n    const name = this.name?.value;\r\n    const password = this.password?.value\r\n    let resultOfAwait;\r\n    try {\r\n        if(this.type === 'signup'){\r\n         resultOfAwait = await this.angularFireAuth.createUserWithEmailAndPassword(email, password);\r\n         console.log(resultOfAwait);\r\n         await this.angularFirestore\r\n         .collection('users')\r\n         .doc(resultOfAwait.user?.uid)\r\n         .set({\r\n          email,\r\n          address: '',\r\n          name\r\n         })\r\n         this.uiElementsService.addSnackBar('Welcome ' + name);\r\n         this.uiElementsService.removeSpinner();\r\n         this.router.navigate(['/profile']);\r\n        //  this.snackService.authSuccess('signup');\r\n        \r\n\r\n        }\r\n        if(this.type === 'login'){\r\n        await this.angularFireAuth.signInWithEmailAndPassword(email, password);\r\n        // this.snackService.authSuccess('Login');\r\n        this.uiElementsService.addSnackBar('Welcome');\r\n        this.uiElementsService.removeSpinner();\r\n        this.router.navigate(['/profile']);\r\n\r\n      }\r\n        if(this.type === 'reset'){\r\n        await this.angularFireAuth.sendPasswordResetEmail(email);\r\n        this.uiElementsService.removeSpinner();\r\n        this.uiElementsService.addSnackBar('Check your Emails for the link');\r\n        }\r\n    } catch (error) {\r\n      this.serverMessage = error;\r\n      this.uiElementsService.removeSpinner();\r\n    }\r\n    this.loading = false;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}